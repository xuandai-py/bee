<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Edit User</title>
    <link type="text/css" rel="stylesheet" href="../../bootstrap.min.css"/>
</head>
<body>
	<div class="container col-6">
		<div class="card">
			<div class="card-header">
				<h2 style="text-align: center;">Edit User</h2>
			</div>
<<<<<<< Updated upstream
		    <form th:object="${employee}" th:action="@{/admin/employee/update}" action="#" method="post" enctype="multipart/form-data">
=======
		    <form th:object="${employee}" th:action="@{/admin/employee/save}"  method="post" enctype="multipart/form-data">
>>>>>>> Stashed changes
		    	<div class="card-body">
			        <input type="hidden" th:field="*{userID}">
			        <div>
			            <label th:text="Username" th:for="username"></label>
			            <input type="text" th:field="*{username}" class="form-control"/>
			        </div>
			        <div style="clear: both; display: block; height: 10px"></div>
			        <div>
			            <label th:text="Password" th:for="password"></label>
			            <input type="text" th:field="*{password}" class="form-control"/>
			        </div>
			        <div style="clear: both; display: block; height: 10px"></div>
			        <div>
			            <label th:text="Fullname" th:for="fullname"></label>
			            <input type="text" th:field="*{fullname}" class="form-control"/>
			        </div>
			        <div style="clear: both; display: block; height: 10px"></div>
			        <div>
			            <label th:text="Birthday" th:for="birthday"></label>
			            <input type="date" th:field="*{birthday}" class="form-control"/>
			        </div>
			        <div style="clear: both; display: block; height: 10px"></div>
			        <div>
			            <label th:text="Address" th:for="address"></label>
			            <input type="text" th:field="*{address}" class="form-control"/>
			        </div>
			        <div style="clear: both; display: block; height: 10px"></div>
			        <div>
			            <label th:text="Email" th:for="email"></label>
			            <input type="text" th:field="*{email}" class="form-control"/>
			        </div>
			        <div style="clear: both; display: block; height: 10px"></div>
					<div>
			            <label th:text="Phone" th:for="phone"></label>
			            <input type="text" th:field="*{phone}" class="form-control"/>
			        </div>
			        <div style="clear: both; display: block; height: 10px"></div>
			        <div>
			            <label th:text="Gender" th:for="gender"></label>
			            <select th:field="*{gender}" class="form-control">
							<option value="0">Male</option>
							<option value="1">Female</option>
						</select>
			        </div>
			        <div style="clear: both; display: block; height: 10px"></div>
			        <div>
			            <label th:text="Image" th:for="photo_file"></label>
			            <img id="photo" style="border-radius: 50%" width="50"  height="50" th:src="@{'/getimage/' + ${employee.image}}"/>
			            <input type="file" class="form-control" name="photo_file" id="photo_file"/>
			            <input type="hidden" th:field="*{image}"/>
			        </div>
			        <div style="clear: both; display: block; height: 10px"></div>
					<div>
						<label th:text="Role" th:for="role"></label> 
						<select th:field="*{roles.roleID}" class="form-control">
							<option value=""></option>
							<option th:each="role : ${roles}" th:text="${role.roleName}" th:value="${role.roleID}" />
						</select>
					</div>
			    </div>
		        <div class="card-footer">
		        	<input type="submit" class="btn btn-success" value="Save"/>
		        </div>
		    </form>
		</div>
	</div>
	 <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
	 <script>
	 function readURL(input) {
	        if (input.files && input.files[0]) {
	            var reader = new FileReader();
	            
	            reader.onload = function (e) {
	                $('#photo').attr('src', e.target.result);
	            }
	            
	            reader.readAsDataURL(input.files[0]);
	        }
	    }
	    
	    $("#photo_file").change(function(){
	        readURL(this);
	    });
	 </script>
</body>
</html>